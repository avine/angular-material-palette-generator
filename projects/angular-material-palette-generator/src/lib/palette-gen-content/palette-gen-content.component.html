<pg-palette-gen-selector (paletteNameChange)="unsetMirror()">
  <mat-button-toggle-group aria-label="View selector" hideSingleSelectionIndicator [(value)]="view">
    @for (option of viewList; track $index) {
      <mat-button-toggle [value]="option">{{ option | titlecase }}</mat-button-toggle>
    }
  </mat-button-toggle-group>

  @if (view() === 'palette' || view() === 'overview') {
    <button
      type="button"
      mat-icon-button
      [attr.aria-label]="compactAction()"
      [matTooltip]="compactAction()"
      (click)="toggleCompact()"
    >
      <mat-icon
        class="pg-palette-gen-content__compact-icon"
        [class.pg-palette-gen-content__compact-icon--active]="compact()"
      >
        keyboard_double_arrow_up
      </mat-icon>
    </button>
  }
</pg-palette-gen-selector>

@switch (view()) {
  @case ('palette') {
    <div class="pg-palette-gen-content__previews">
      <pg-palette-gen-preview
        [matchingConfig]="matchingConfig()"
        [compact]="compact()"
        [formValue]="service.formValue()()"
        (action)="setMirror()"
      />

      @if (formValueMirror(); as mirror) {
        <pg-palette-gen-preview [compact]="compact()" [formValue]="mirror" mirrorView (action)="unsetMirror()" />
      }
    </div>
  }
  @case ('overview') {
    <pg-palette-gen-overview [compact]="compact()" />
  }
  @case ('component') {
    <pg-palette-gen-renderer>
      <ng-content>
        <pg-palette-gen-showcase />
      </ng-content>
    </pg-palette-gen-renderer>
  }
}
