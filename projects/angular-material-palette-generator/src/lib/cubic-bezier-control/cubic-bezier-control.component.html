<canvas #canvas [width]="canvasSize()" [height]="canvasSize()" class="pg-cubic-bezier-control__canvas"></canvas>

<div
  class="pg-cubic-bezier-control__point"
  cdkDrag
  cdkDragBoundary=".pg-cubic-bezier-control"
  [cdkDragDisabled]="disabled()"
  (cdkDragMoved)="updateParam('p1')"
  #p1
>
  <button
    matRipple
    [matRippleColor]="matRippleColor"
    [matRippleCentered]="true"
    [matRippleUnbounded]="true"
    [matRippleRadius]="24"
    [matRippleDisabled]="disabled()"
    (focus)="launchRipple('p1')"
    (blur)="fadeOutRippleRef()"
    [matTooltip]="params() | cubicBezierParams: 'p1'"
    matTooltipPosition="left"
    pgCubicBezierControlDirection
    (direction)="moveParams('p1', $event)"
  >
    p1
  </button>
</div>

<div
  class="pg-cubic-bezier-control__point"
  cdkDrag
  cdkDragBoundary=".pg-cubic-bezier-control"
  [cdkDragDisabled]="disabled()"
  (cdkDragMoved)="updateParam('p2')"
  #p2
>
  <button
    matRipple
    [matRippleColor]="matRippleColor"
    [matRippleCentered]="true"
    [matRippleUnbounded]="true"
    [matRippleRadius]="24"
    [matRippleDisabled]="disabled()"
    (focus)="launchRipple('p2')"
    (blur)="fadeOutRippleRef()"
    [matTooltip]="params() | cubicBezierParams: 'p2'"
    matTooltipPosition="right"
    pgCubicBezierControlDirection
    (direction)="moveParams('p2', $event)"
  >
    p2
  </button>
</div>

<pg-cubic-bezier-control-colors [cssVarConfig]="cssVarConfig" (colorMapChange)="colorMap.set($event)" />
